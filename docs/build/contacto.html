

<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contacto &mdash; documentación de Mafaldos - 0.0.1</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Angular Material" href="angularMaterial.html" />
    <link rel="prev" title="Video" href="video.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Mafaldos
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="descripcion.html">Descripción</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="componentes.html">Estructura</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="sidenav.html">Sidenav</a></li>
<li class="toctree-l2"><a class="reference internal" href="home.html">Inicio</a></li>
<li class="toctree-l2"><a class="reference internal" href="registro.html">Registro</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html">Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="mi%20Perfil.html">Perfil</a></li>
<li class="toctree-l2"><a class="reference internal" href="registros.html">Registros</a></li>
<li class="toctree-l2"><a class="reference internal" href="video.html">Video</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Contacto</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#descripcion">.Descripción</a></li>
<li class="toctree-l3"><a class="reference internal" href="#importaciones">.Importaciones</a></li>
<li class="toctree-l3"><a class="reference internal" href="#desarrollos">.Desarrollos</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="angularMaterial.html">Angular Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="usuarioModel.html">Modelo registros.</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth.html">Servicio Auth</a></li>
<li class="toctree-l2"><a class="reference internal" href="contactoService.html">Servicio Contacto</a></li>
<li class="toctree-l2"><a class="reference internal" href="APIREST.html">Servicio Municipios</a></li>
<li class="toctree-l2"><a class="reference internal" href="registrosService.html">Servicio Registros</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mafaldos</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="componentes.html">Estructura</a> &raquo;</li>
        
      <li>Contacto</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/contacto.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contacto">
<h1>Contacto<a class="headerlink" href="#contacto" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="descripcion">
<h2>.Descripción<a class="headerlink" href="#descripcion" title="Enlazar permanentemente con este título">¶</a></h2>
<p>En este módulo creamos el formulario y los métodos necesarios para enviar un correo de contacto entre un usuario interesado en los servicios de Marvel Project y su CEO, a través de un correo electrónico el CEO recibirá toda la información que será proporcionada por el usuario/visitante de la página.</p>
</div>
<div class="section" id="importaciones">
<h2>.Importaciones<a class="headerlink" href="#importaciones" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Importamos todas las librerías necesarias en nuestro componente de contacto, como lo son los Form y los validators, el primero se encargará de poder crear un formulario que nos permita trabajar con los datos otorgados por el usuario final, junto con el contact service que nos provee de todos los métodos para trabajar estos datos en nuestra base de datos</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">Component</span><span class="p">,</span> <span class="n">OnInit</span> <span class="p">}</span> <span class="kn">from</span>    <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">FormBuilder</span><span class="p">,</span> <span class="n">FormControl</span><span class="p">,</span> <span class="n">FormGroup</span><span class="p">,</span>   <span class="n">Validators</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;@angular/forms&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">servicio</span> <span class="n">para</span> <span class="n">el</span> <span class="n">manejo</span> <span class="n">de</span> <span class="n">la</span> <span class="n">bd</span> <span class="n">de</span>    <span class="n">contactos</span>
<span class="kn">import</span> <span class="p">{</span><span class="n">ContactosService</span><span class="p">}</span> <span class="kn">from</span>    <span class="s1">&#39;src/app/services/contactos.service&#39;</span>
<span class="o">//</span> <span class="n">para</span> <span class="n">el</span> <span class="n">manejo</span> <span class="n">de</span> <span class="n">enviar</span> <span class="n">email</span> <span class="k">del</span> <span class="n">nuevo</span>    <span class="n">contacto</span>
<span class="kn">import</span> <span class="s1">&#39;src/assets/smtp.js&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="desarrollos">
<h2>.Desarrollos<a class="headerlink" href="#desarrollos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Los archivos son generados automáticamente por el Angular CLI.
La estructura HMTL del formulario y la página de contacto es la siguiente</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span> <span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span><span class="o">-</span><span class="n">content</span>  <span class="n">fxLayout</span><span class="o">=</span><span class="s2">&quot;column&quot;</span>  <span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span><span class="o">-</span><span class="n">title</span><span class="o">&gt;</span><span class="n">Contacto</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span><span class="o">-</span><span class="n">title</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span><span class="n">Diligencia</span> <span class="n">el</span> <span class="n">siguiente</span> <span class="n">formulario</span> <span class="n">para</span> <span class="n">ponernos</span> <span class="n">en</span> <span class="n">contacto</span> <span class="n">contigo</span>
   <span class="n">y</span> <span class="n">atender</span> <span class="n">tu</span> <span class="n">solicitud</span><span class="o">.</span>
 <span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

 <span class="o">&lt;</span><span class="n">form</span> <span class="p">(</span><span class="n">ngSubmit</span><span class="p">)</span><span class="o">=</span><span class="s2">&quot;oncreate(contactForm.value)&quot;</span> <span class="p">[</span><span class="n">formGroup</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;contactForm&quot;</span> <span class="o">&gt;</span>

   <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;contenedor&quot;</span>  <span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Nombre</span> <span class="n">Completo</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span> <span class="n">appearance</span><span class="o">=</span><span class="s2">&quot;outline&quot;</span><span class="o">&gt;</span>

       <span class="o">&lt;</span><span class="nb">input</span> <span class="n">matInput</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="n">formControlName</span><span class="o">=</span><span class="s2">&quot;nombreCompleto&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Pepito Perez&quot;</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span> <span class="o">*</span><span class="n">ngIf</span><span class="o">=</span><span class="s2">&quot;contactForm.controls.nombreCompleto.invalid&quot;</span><span class="o">&gt;</span><span class="n">Ingrese</span> <span class="n">un</span> <span class="n">nombre</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Email</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span> <span class="n">appearance</span><span class="o">=</span><span class="s2">&quot;outline&quot;</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="nb">input</span> <span class="n">matInput</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;example@example.com&quot;</span> <span class="n">formControlName</span><span class="o">=</span><span class="s2">&quot;email&quot;</span> <span class="n">required</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span> <span class="o">*</span><span class="n">ngIf</span><span class="o">=</span><span class="s2">&quot;contactForm.controls.email.errors&quot;</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">errorEmail</span><span class="p">()}}</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span> <span class="o">&gt;</span>


       <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Motivo</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span> <span class="n">appearance</span><span class="o">=</span><span class="s2">&quot;outline&quot;</span><span class="o">&gt;</span>

       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">select</span> <span class="n">formControlName</span><span class="o">=</span><span class="s2">&quot;motivo&quot;</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Motivos&quot;</span> <span class="n">placeholder</span><span class="o">=</span><span class="s2">&quot;Escoja un motivo&quot;</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">option</span> <span class="o">*</span><span class="n">ngFor</span><span class="o">=</span><span class="s2">&quot;let mot of motivos&quot;</span> <span class="p">[</span><span class="n">value</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;mot.value&quot;</span> <span class="o">&gt;</span>
           <span class="p">{{</span><span class="n">mot</span><span class="o">.</span><span class="n">value</span><span class="p">}}</span>
         <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">option</span><span class="o">&gt;</span>
       <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">select</span><span class="o">&gt;</span>

       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span> <span class="o">*</span><span class="n">ngIf</span><span class="o">=</span><span class="s2">&quot;contactForm.controls.motivo.invalid&quot;</span><span class="o">&gt;</span><span class="n">Ingrese</span> <span class="n">una</span> <span class="n">motivo</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span>

     <span class="o">&lt;</span><span class="n">label</span><span class="o">&gt;</span><span class="n">Mensaje</span><span class="o">&lt;/</span><span class="n">label</span><span class="o">&gt;</span>
     <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span> <span class="n">appearance</span><span class="o">=</span><span class="s2">&quot;outline&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mensaje&quot;</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">textarea</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;tarea&quot;</span> <span class="n">matInput</span> <span class="c1">#message maxlength=&quot;500&quot; placeholder=&quot;Estoy interesado en...&quot;</span>
         <span class="n">formControlName</span><span class="o">=</span><span class="s2">&quot;mensaje&quot;</span><span class="o">&gt;&lt;/</span><span class="n">textarea</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">hint</span> <span class="n">align</span><span class="o">=</span><span class="s2">&quot;end&quot;</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">message</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">length</span><span class="p">}}</span> <span class="o">/</span> <span class="mi">500</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">hint</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span> <span class="o">*</span><span class="n">ngIf</span><span class="o">=</span><span class="s2">&quot;contactForm.controls.mensaje.invalid&quot;</span><span class="o">&gt;</span><span class="n">Ingrese</span> <span class="n">una</span> <span class="n">mensaje</span><span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">error</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span>



         <span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;contenedorBoton&quot;</span><span class="o">&gt;&lt;</span><span class="n">button</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="n">mat</span><span class="o">-</span><span class="n">raised</span><span class="o">-</span><span class="n">button</span> <span class="p">[</span><span class="n">disabled</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;!contactForm.valid&quot;</span> <span class="o">&gt;</span><span class="n">Enviar</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span><span class="o">-</span><span class="n">content</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">mat</span><span class="o">-</span><span class="n">card</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Como se puede observar en el código HTML, hacemos la creación de la tabla, con sus respectivos Inputs, su dropdown y la sección de mensaje, junto con las condicionales requeridas para el funcionamiento del correo; y por último el botón de enviar que estará inhabilitado a menos de que todos los campos estén debidamente diligenciados.</p>
<p>A continuación se van a diligenciar todas las reglas de css que le dan estilo a nuestro fomulario:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>mat-card {
 max-width:80%;
 text-align: center;
 margin:auto;
 margin-top: 5%;
 margin-bottom: 5%;
 background-color:#f5e8d3;}

mat-card-title{
 width: 100%;
 font-size: 30px;
 text-align: center;}
mat-card-content{
  width: 100%;}
.contenedor{
 //background-color: #eb791c;
  margin: auto;
  margin-top: 20px;
  width: 80%;}


mat-form-field{

  width: 80%;
  margin:3% auto;
  background-color: #f5e8d3;
  display: block;
}


label{
     font-size: 20px;
     text-align: center;
     display: block;
     width: 100%;}


 button{
     align-content: center;
     background-color: orangered;
     width: 100%;}
button:hover{
     background-color: grey;}
.contenedorBoton{
     margin:auto;
     margin-top: 10%;
     width: 80%;
//background-color: green;}


Input:Focus {
     color:black;
     font-size: 18px;}
.mensaje{
     width: 80%;
     height: 260px;
     //background-color: #12e412d0;}
.tarea{

      height: 200px;
     //background-color: #5112e4d0;  }


     //input outline color por defecto
     ::ng-deep .mat-form-field-appearance-   outline .mat-form-field-outline {
     color: gray!important;
     //opacity: 1!important;
     }

     //mat-input focused color cunado se activa
     ::ng-deep .mat-form-field-appearance-   outline.mat-focused .mat-form-field-    outline-thick {
     color: #eb791c!important;
     }

     // mat-input error outline color caundo hay error
     ::ng-deep .mat-form-field-appearance-   outline.mat-form-field-invalid.mat-form-        field-invalid .mat-form-field-outline-  thick{
     color: #ff4e36!important;
     opacity: 0.8!important;
     }


     // mat-input carent color para alertas
     ::ng-deep .mat-input-element {
     caret-color: orange!important;
     }

     // mat-input error carent color
     ::ng-deep .mat-form-field-invalid .mat-input-   element, .mat-warn .mat-input-element {
     caret-color: blue!important;
     }

     // mat-label normal state style color de los label en reposo
     ::ng-deep .mat-form-field-label {
     color: gray!important;
     // color: $mainColor!important;
     }

     // mat-label focused style color del label al minimizarse
     ::ng-deep .mat-form-field.mat-focused   .mat-form-field-label {
     color: black!important;
     }

     // mat-label error style color cuando el campo es imvalido
     ::ng-deep .mat-form-field.mat-form-field-       invalid .mat-form-field-label {
     color: red!important;
     }
</pre></div>
</div>
<p>Se definen todas las reglas para nuestro formulario tanto en versión web como en versión responsiva.</p>
<p>Pasaremos a explicar de manera breve cada uno de las partes que componen el Contacto.Component.ts, este archivo contiene todas importaciones necesarias para crear el formulario y poder trabajar con el Modelo de Contacto, enviar el formulario a la base de datos y usar la Api de Elasticemail para enviar el correo al CEO cada vez que alguien quiera hacer un contacto para discutir sobre nuestros servicios y oportunidades en Mafaldos Project.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">//</span><span class="n">para</span> <span class="n">el</span> <span class="n">formGroup</span>
<span class="n">contactForm</span><span class="p">:</span> <span class="n">FormGroup</span><span class="p">;</span>

<span class="n">listaContactos</span><span class="p">;</span>

<span class="o">//</span> <span class="n">para</span> <span class="n">la</span> <span class="n">validacion</span> <span class="k">del</span> <span class="n">email</span>
<span class="n">emailPattern</span> <span class="o">=</span> <span class="s2">&quot;^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$&quot;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">para</span> <span class="n">el</span> <span class="n">selecionar</span> <span class="n">el</span> <span class="n">motivo</span>
<span class="n">motivos</span><span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="s1">&#39;Contratos&#39;</span> <span class="p">},</span>
  <span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="s1">&#39;Proyectos&#39;</span><span class="p">},</span>
  <span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="s1">&#39;Cobranzas&#39;</span><span class="p">}</span>
<span class="p">];</span>

<span class="n">motivoSeleccionado</span><span class="p">:</span><span class="n">string</span><span class="p">;</span>



  <span class="n">this</span><span class="o">.</span><span class="n">contactForm</span><span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">fb</span><span class="o">.</span><span class="n">group</span><span class="p">({</span>

    <span class="n">nombreCompleto</span><span class="p">:</span> <span class="n">new</span> <span class="n">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Validators</span><span class="o">.</span><span class="n">required</span><span class="p">]),</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">new</span> <span class="n">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Validators</span><span class="o">.</span><span class="n">required</span><span class="p">,</span> <span class="n">Validators</span><span class="o">.</span><span class="n">required</span><span class="p">,</span> <span class="n">Validators</span><span class="o">.</span><span class="n">pattern</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">emailPattern</span><span class="p">),</span> <span class="o">/*</span><span class="n">this</span><span class="o">.</span><span class="n">validarEmail</span><span class="o">*/</span><span class="p">]),</span>
    <span class="n">motivo</span><span class="p">:</span> <span class="n">new</span> <span class="n">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Validators</span><span class="o">.</span><span class="n">required</span><span class="p">]),</span>
    <span class="n">mensaje</span><span class="p">:</span> <span class="n">new</span> <span class="n">FormControl</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">Validators</span><span class="o">.</span><span class="n">required</span><span class="p">]),</span>

  <span class="p">});</span>
</pre></div>
</div>
<p>Iniciamos un nuevo formulario, el cuál recibirá los cuatro datos requeridos. Hecho esta sección, nuestro formulario ya está listo para poder ser procesado por otros métodos para su envío &amp; cumpliendo con el requerimiento, se crea un array Motivo para que podamos crear el dropdown en nuestro html con las 3 opciones entregadas por el cliente.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">getRegistros</span><span class="p">(){</span>

  <span class="n">this</span><span class="o">.</span><span class="n">contactosService</span><span class="o">.</span><span class="n">getContactos</span><span class="p">()</span><span class="o">.</span><span class="n">subscribe</span><span class="p">((</span><span class="n">rgSnapshot</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">listaContactos</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="n">rgSnapshot</span><span class="o">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">rgData</span><span class="p">:</span> <span class="nb">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">this</span><span class="o">.</span><span class="n">listaContactos</span><span class="o">.</span><span class="n">push</span><span class="p">({</span>
        <span class="nb">id</span><span class="p">:</span> <span class="n">rgData</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">rgData</span><span class="o">.</span><span class="n">payload</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>

      <span class="p">});</span>
    <span class="p">})</span>

    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">listaContactos</span><span class="p">);</span>


  <span class="p">});</span>


<span class="p">}</span>
</pre></div>
</div>
<p>Este primero método de get registros, será que el que nos permite obtener los datos de contactos y poderlos almacenar dentro de un documento en firebase</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> errorEmail() {
  if (this.contactForm.controls.email.hasError(&#39;required&#39;)) {
    return &#39;Debe ingresar un email&#39;;
  }
  if (this.contactForm.controls.email.hasError(&#39;ms&#39;)) {
    return &#39;El email ya ha sido registrado&#39;;
  }
  return this.contactForm.controls.email.hasError(&#39;pattern&#39;) ? &#39;Email no válido&#39; : &#39;&#39;;
}
</pre></div>
</div>
<p>En este pequeño método validamos que el dato ingresado en el campo e-mail, se efectivamente un email con su correspondiente formato.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> oncreate(form){
  //contraseña 215745566ED59E05A9845F9B348B9915395B

  this.contactosService.crearContacto(this.contactForm.value).then(() =&gt; {

    //toco importar en el archivo angular.json ln 34 y 99
    //&quot;scripts&quot;: [&quot;src/assets/smtp.js&quot;]
    //tomado de https://medium.com/javascript-in-plain-english/send-emails-without-a-server-side-code-with-angular-e227c3e62dbd
    Email.send({
    Host : &#39;smtp.elasticemail.com&#39;,
    Username : &#39;dev24@aiatic.com&#39;,
    Password : &#39;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&#39;,
    To : &#39;ceo@aiatic.com&#39;,//ceo@aiatic.com
    From : &#39;dev24@aiatic.com&#39;,
    Subject : &#39;Dc Team Nuevo contacto&#39;,
    Body : `
          &lt;h1&gt; Nuevo registro de Contacto&lt;/h1&gt;
          &lt;p&gt;&lt;/p&gt;
          &lt;h3&gt; Nombre: ${this.contactForm.controls.nombreCompleto.value}&lt;/h3&gt;
          &lt;h3&gt; Correo: ${this.contactForm.controls.email.value}&lt;/h3&gt;
          &lt;h3&gt; Motivo: ${this.contactForm.controls.motivo.value}&lt;/h3&gt;
          &lt;h3&gt; Mensaje&lt;/h3&gt;
          &lt;p&gt;${this.contactForm.controls.mensaje.value}&lt;/p&gt;

    `
    }).then( message =&gt; {
      alert(message);
     } );


    this.contactForm.setValue({

      nombreCompleto: &#39;&#39;,
      email: &#39;&#39;,
      motivo: &#39;&#39;,
      mensaje: &#39;&#39;

    });

  }, (error) =&gt; {
    console.error(error);
  });
}
</pre></div>
</div>
<p>El método onCreat(form) es donde hacemos el llamado de nuestra API de elasticmail. En este método, observamos que se crean unas variables en donde almacenamos los datos de nuestro formulario previamente creado, seguido de la creación de una variable asunto, la cuál en el correo del CEO será tal cual la caja en dónde se especifíca el asunto del correo y el cuerpo, el cuál recibe dentro de la misma variable Sel estilo que este tendrá cuando el CEO reciba el correo. se crea la variable datos, la cual incializa un objeto de tipo «contact».</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="angularMaterial.html" class="btn btn-neutral float-right" title="Angular Material" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="video.html" class="btn btn-neutral float-left" title="Video" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Karen Gómez, Ronal Landazabal, Carlos Gonzalez, Yeison Rey

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>